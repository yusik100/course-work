# Library Management System

## –ö—É—Ä—Å–æ–≤–∞ —Ä–æ–±–æ—Ç–∞ –∑ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏ "–ë–∞–∑–∏ –¥–∞–Ω–∏—Ö"

Backend-–¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó —Ä–æ–±–æ—Ç–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏. –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª—ñ–∑—É—î –ø–æ–≤–Ω–∏–π —Ü–∏–∫–ª —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ—á–Ω–∏–º —Ñ–æ–Ω–¥–æ–º: –æ–±–ª—ñ–∫ —Ñ—ñ–∑–∏—á–Ω–∏—Ö –∫–æ–ø—ñ–π –∫–Ω–∏–≥, —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é —á–∏—Ç–∞—á—ñ–≤, —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –≤–∏–¥–∞—á—ñ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∏ —Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏—Ö –∑–≤—ñ—Ç—ñ–≤.

–ü—Ä–æ—î–∫—Ç –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º **Layered Architecture** —ñ –Ω–∞–¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ **REST API** –∑—ñ –∑—Ä—É—á–Ω–æ—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é.

## –í–∏–∫–æ–Ω–∞–ª–∞: –ö–æ—Å—Ç–∞–Ω–¥—ñ –Æ–ª—ñ—è –Ü–ú-41

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

* **–ú–æ–≤–∞:** Python 3.10+
* **Web-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫:** **FastAPI**
* **–°–µ—Ä–≤–µ—Ä:** **Uvicorn**
* **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** PostgreSQL 15
* **ORM:** SQLAlchemy
* **–ú—ñ–≥—Ä–∞—Ü—ñ—ó:** Alembic
* **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è:** Docker & Docker Compose
* **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** Pytest

---

## –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –∑–∞–ø—É—Å–∫—É

### –ö—Ä–æ–∫ 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone https://github.com/yusik100/course-work.git
cd library_project

```

### –ö—Ä–æ–∫ 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—Ä–∏–∫–ª–∞–¥—É:

```bash
cp .env.example .env

```

### –ö—Ä–æ–∫ 3. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤

–ü—ñ–¥–Ω—ñ–º—ñ—Ç—å —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (Web API + –±–∞–∑–∞ –¥–∞–Ω–∏—Ö):

```bash
docker-compose up -d --build

```

### –ö—Ä–æ–∫ 4. –ù–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏–º–∏

–í–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É **–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö (Seed).
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å ~30 —á–∏—Ç–∞—á—ñ–≤, 20 –∫–Ω–∏–≥, 60 –∫–æ–ø—ñ–π —Ç–∞ —ñ—Å—Ç–æ—Ä—ñ—é –≤–∏–¥–∞—á.

```bash
docker exec -it library_app_container python seed.py

```

---

## –î–æ—Å—Ç—É–ø –¥–æ —Å–∏—Å—Ç–µ–º–∏ (API)

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–Ω–∏–π —É –±—Ä–∞—É–∑–µ—Ä—ñ.

üëâ **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (Swagger UI):**
**[http://localhost:8000/docs](https://www.google.com/search?q=http://localhost:8000/docs)**

–¢—É—Ç –º–æ–∂–Ω–∞:

* –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ (GET, POST, DELETE).
* –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É API –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ (–∫–Ω–æ–ø–∫–∞ "Try it out").
* –ü–æ–¥–∏–≤–∏—Ç–∏—Å—è —Å—Ö–µ–º–∏ –¥–∞–Ω–∏—Ö (JSON).

---

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ö–æ–Ω—Å–æ–ª—å–Ω–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–¥–∏–≤–∏—Ç–∏—Å—è —Ä–æ–±–æ—Ç—É —Å–∫—Ä–∏–ø—Ç—ñ–≤ –±–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Ñ–∞–π–ª `demo.py`:

```bash
docker exec -it library_app_container python demo.py

```

–¶–µ–π —Å—Ü–µ–Ω–∞—Ä—ñ–π –≤–∏–≤–µ–¥–µ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –∑–≤—ñ—Ç–∏ —Ç–∞ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø—Ä–æ—Ü–µ—Å –≤–∏–¥–∞—á—ñ/–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∫–Ω–∏–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ.

---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ü—Ä–æ—î–∫—Ç –ø–æ–∫—Ä–∏—Ç–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏, —è–∫—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É, –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å SQL-–∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ —Ä–æ–±–æ—Ç—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π.

**–ó–∞–ø—É—Å–∫ —É—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤:**

```bash
docker exec -it library_app_container pytest

```

**–ó–∞–ø—É—Å–∫ –æ–∫—Ä–µ–º–æ–≥–æ —Ñ–∞–π–ª—É –∑ —Ç–µ—Å—Ç–∞–º–∏:**

```bash
docker exec -it library_app_container pytest tests/unit/test_models.py

```

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—É –∑–∞ –Ω–∞–∑–≤–æ—é:**

```bash
docker exec -it library_app_container pytest -v -k "lifecycle"

```

---

## –ê–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –∑–∞–ø–∏—Ç–∏

–£ `docs/queries.md` –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω—ñ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω—ñ SQL-–∑–∞–ø–∏—Ç–∏. –°–∏—Å—Ç–µ–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ SQL-–∑–∞–ø–∏—Ç–∏ —á–µ—Ä–µ–∑ ORM:

* **–†–µ–π—Ç–∏–Ω–≥ —á–∏—Ç–∞—á—ñ–≤:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤—ñ–∫–æ–Ω–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó `RANK()` –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ (–≤—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –º—ñ—Å—Ü—å).
* **–ó–≤—ñ—Ç –ø—Ä–æ –±–æ—Ä–∂–Ω–∏–∫—ñ–≤:** –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –¥–∞—Ç–æ—é (`due_date < CURRENT_DATE`) —Ç–∞ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–Ω—è.
* **–ü–æ–ø—É–ª—è—Ä–Ω—ñ—Å—Ç—å –∂–∞–Ω—Ä—ñ–≤:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `JOIN` —á–æ—Ç–∏—Ä—å–æ—Ö —Ç–∞–±–ª–∏—Ü—å —Ç–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó `COUNT/GROUP BY`.


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```bash
.
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É (FastAPI –¥–æ–¥–∞—Ç–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ database.py      # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î (Session)
‚îÇ   ‚îú‚îÄ‚îÄ models.py        # SQLAlchemy –º–æ–¥–µ–ª—ñ —Ç–∞–±–ª–∏—Ü—å
‚îÇ   ‚îú‚îÄ‚îÄ services.py      # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ (CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó)
‚îÇ   ‚îî‚îÄ‚îÄ queries.py       # –ê–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –∑–∞–ø–∏—Ç–∏ (–ó–≤—ñ—Ç–∏)
‚îú‚îÄ‚îÄ alembic/             # –ú—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ docs/                # –î–æ–¥–∞—Ç–∫–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ tests/               # Unit —Ç–∞ Integration —Ç–µ—Å—Ç–∏
‚îú‚îÄ‚îÄ docker-compose.yml   # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Docker
‚îú‚îÄ‚îÄ Dockerfile           # –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑–±—ñ—Ä–∫–∏ –æ–±—Ä–∞–∑—É
‚îú‚îÄ‚îÄ demo.py              # –°—Ü–µ–Ω–∞—Ä—ñ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó (Console)
‚îú‚îÄ‚îÄ seed.py              # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

```